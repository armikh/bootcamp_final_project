if __name__ == '__main__':
    try:
        with app.app_context():
            print("Inside app context. Creating database tables...")
            db.drop_all()  # Drop all existing tables (if any)
            db.create_all()  # Create tables based on the models

            print("Adding sample questions...")
            sample_questions = [
                Question(
                    category='Python',
                    question='What is the output of print(2 ** 3)?',
                    answer='8',
                    option1='6',
                    option2='8',
                    option3='9',
                    option4='10'
                ),
                Question(
                    category='Python',
                    question='What is the output of print(3 * 4)?',
                    answer='12',
                    option1='7',
                    option2='12',
                    option3='15',
                    option4='20'
                ),
                Question(
                    category='SQL',
                    question='What does SQL stand for?',
                    answer='Structured Query Language',
                    option1='Structured Query Language',
                    option2='Simple Query Language',
                    option3='Standard Query Language',
                    option4='Sequential Query Language'
                ),
            ]
            db.session.add_all(sample_questions)
            db.session.commit()
    except Exception as e:
        print(f"Error during database setup: {e}")

    print("Starting Flask app...")
    app.run(debug=True)